# API для управления привычками

## Описание проекта
API для создания и управления привычками с использованием Django REST Framework. Проект позволяет пользователям создавать, отслеживать и управлять своими привычками, а также получать уведомления через Telegram.

## Основные возможности
- Создание, редактирование и удаление привычек
- Установка времени и места выполнения привычки
- Настройка периодичности выполнения
- Создание приятных привычек
- Связывание привычек между собой
- Публичные и приватные привычки
- Уведомления через Telegram

## Технологии
- Python 3.8+
- Django 4.2
- Django REST Framework
- Celery
- Redis
- PostgreSQL
- Telegram Bot API

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone <url-репозитория>
cd <папка-проекта>
```

2. Создайте и активируйте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate     # для Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл .env на основе .env_sample и заполните необходимые переменные окружения:
```bash
cp .env_sample .env
```

5. Примените миграции:
```bash
python manage.py migrate
```

6. Создайте суперпользователя:
```bash
python manage.py createsuperuser
```

7. Запустите Redis (необходим для Celery)

8. Запустите Celery worker:
```bash
celery -A config worker -l INFO
```

9. Запустите сервер разработки:
```bash
python manage.py runserver
```

## API Endpoints

### Привычки
- `POST /habits/` - Создание новой привычки
- `GET /habits/` - Получение списка привычек пользователя
- `GET /habits/{id}/` - Получение информации о конкретной привычке
- `PATCH /habits/{id}/` - Обновление привычки
- `DELETE /habits/{id}/` - Удаление привычки

### Публичные привычки
- `GET /public-habits/` - Получение списка публичных привычек

## Модель данных

### Habit (Привычка)
- user - Пользователь, создавший привычку
- place - Место выполнения привычки
- time - Время выполнения
- action - Действие привычки
- is_nice - Признак приятной привычки
- related_habit - Связанная привычка
- periodicity - Периодичность выполнения (дни)
- reward - Вознаграждение
- duration - Длительность выполнения (в секундах)
- is_public - Признак публичной привычки

## Валидация данных
- Длительность выполнения не должна превышать 120 секунд
- Периодичность должна быть от 1 до 7 дней
- У приятной привычки не может быть вознаграждения или связанной привычки
- Нельзя указывать одновременно вознаграждение и связанную привычку

## Автор

Аркадий

## Лицензия
MIT 